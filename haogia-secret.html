<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hao Gia - Secret Admin</title>
<style>
body{font-family:Inter,Arial,Helvetica;background:linear-gradient(90deg,#fff7f0,#fff);margin:0}
.wrap{max-width:900px;margin:24px auto;padding:20px}
.card{background:#fff;border-radius:10px;padding:18px;box-shadow:0 6px 20px rgba(0,0,0,0.06)}
.btn{display:inline-block;padding:8px 12px;border-radius:8px;background:linear-gradient(90deg,#ff3b3b,#ffb800);color:#fff;border:none;cursor:pointer}
.preview{display:flex;flex-wrap:wrap;gap:12px;margin-top:12px}
.preview img{width:160px;height:120px;object-fit:cover;border-radius:8px}
.field{margin:8px 0}
.note{font-size:13px;color:#666;margin-top:8px}
.hidden{display:none}
</style>
<script src="https://cdn.jsdelivr.net/npm/jszip@3.10.0/dist/jszip.min.js"></script>
</head>
<body>
<div class="wrap">
  <div id="login" class="card">
    <h2>Hao Gia â€” Secret Admin</h2>
    <p>Enter password to manage gallery.</p>
    <div class="field"><input id="pwd" placeholder="Password" style="padding:8px;border-radius:6px;border:1px solid #ddd;width:220px" /><button class="btn" onclick="login()">Login</button></div>
  </div>

  <div id="admin" class="card hidden">
    <h2>Gallery Manager</h2>
    <p class="note">Choose images, preview, download ZIP and upload to your GitHub repo's <code>assets/gallery/</code>.</p>
    <div class="field"><label class="btn">Choose images<input id="images" type="file" accept="image/*" multiple style="display:none" onchange="handleFiles(event)"></label> <button class="btn" onclick="downloadZip()">Download ZIP</button> <button class="btn" onclick="clearAll()">Clear</button></div>
    <div class="preview" id="preview"></div>
    <p class="note">After downloading, extract and upload images to <code>assets/gallery/</code> in your GitHub repo, then commit. Vercel will redeploy automatically.</p>
  </div>
</div>

<script>
const PASSWORD = "haogia0625";
let files=[];
function login(){ if(document.getElementById('pwd').value===PASSWORD){ document.getElementById('login').classList.add('hidden'); document.getElementById('admin').classList.remove('hidden'); } else alert('Wrong password'); }
function handleFiles(e){ files = files.concat(Array.from(e.target.files)); render(); }
function render(){ const p=document.getElementById('preview'); p.innerHTML=''; files.forEach(f=>{ const img=document.createElement('img'); img.src=URL.createObjectURL(f); p.appendChild(img); }); }
function clearAll(){ files=[]; render(); }
async function downloadZip(){ if(files.length===0){ alert('No images'); return;} const zip=new JSZip(); files.forEach(f=>zip.file(f.name,f)); const blob=await zip.generateAsync({type:'blob'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='haogia_gallery_images.zip'; document.body.appendChild(a); a.click(); a.remove(); }
</script>
</body>
</html>
